<script>
    //---------------------------------------------------------------------------------------------------
    //femail line & click event

    var pressed_femailLine_imgae = 'url(' + folderPath + 'agent_list_bg_pressed.png)';
    var org_femailLine_image;

    $(".femail").on('touchstart', function(e) {
        org_femailLine_image = $(e.currentTarget).css('background-image');
        $(e.currentTarget).css('background-image', pressed_femailLine_imgae);

        return true;
    });

    $(".femail").on('touchmove', function(e) {
        $(e.currentTarget).css('background-image', org_femailLine_image);
        return true;
    });

    $(".femail").on('touchend',function(e) {
                $(e.currentTarget).css('background-image', org_femailLine_image);
                var info = $(e.currentTarget).data('femailinfo');
                console.log(JSON.stringify(info));
                window.AndroidInterface.sendToAndroidForStartActivity(JSON.stringify(info));

                return true;
            });
    //---------------------------------------------------------------------------------------------------
    //femail button & click event

    var pressed_button_image = "url("+folderPath+"agent_list_btn_pressed.png)";
    var org_button_image;

    $(".email_btn").on('touchstart', function(e) {
        org_button_image = $(e.currentTarget).css('background-image');
        $(e.currentTarget).css('background-image', pressed_button_image);

        return true;
    });

    $(".email_btn").on('touchmove', function(e) {
        $(e.currentTarget).css('background-image', org_button_image);

        return true;
    });

    $(".email_btn").on('touchend', function(e) {
        $(e.currentTarget).css('background-image', org_button_image);

        return true;
    });

    function TypeClass(v, value) {
        this.type = v;
        this.value = value;
    };

    function buttonSave(e) {
        var JSONObject = {
            "choice" : "yes"
        };
        console.log(JSON.stringify(JSONObject));
        window.AndroidInterface.sendToAndroidForWernickeManager(JSON
                .stringify(JSONObject));
        $(".button").css('display', 'none');
    }

    function buttonCancel(e) {
        $(".button").css('display', 'none');

        ///send pressed info "no"
        var JSONObject = {
            "choice" : "no"
        };
        console.log(JSON.stringify(JSONObject));
        window.AndroidInterface.sendToAndroidForWernickeManager(JSON
                .stringify(JSONObject));
    }

    function calcHeight() {
        var the_height = document.getElementById('').contentWindow.document.body.scrollHeight;
        document.getElementById('').height = the_height;
    }
</script>

<li>
    <div width=100%
        style="background-image: url('<%= folderPath %>agent_list_bg_01.png');">
        <table width=100%
            style="color: #ffffff; padding: 0px; border-style: solid;"
            border="0px" ;
            class="femail"
                <% if(data.AccountId) { %>
                    data-femailinfo='{
            "action": "com.lge.email.action.MAILBOX_ACTIVITY",
            "Target": "maillist",
            "AccountId": "<%= data.AccountId %>",
            "FolderId": "<%= data.FolderId %>",
            "FolderType": "2",
            "SortMode" : "normal_inbox "
         }' 
             <%} else {%>
                 data-femailinfo='{
            "action": "android.intent.action.SENDTO",
            "package": "com.lge.email",
            "android.intent.extra.SUBJECT": "<%= data.subject %>",
            "android.intent.extra.TEXT": "<%= data.body %>",
            "uri": "mailto:<%= data.emailAddress %>"
         }' 
             <%}%>
         >
            <tr valign="center" >
                <td style="text-align:left; padding-top:10px; padding-bottom:6px; padding-left:12px">
                <span class="agent_list_01"><%=data.text_to %> </span>
                <span class="agent_list_01"><%=data.name %></span>
                </td>
            </tr>
            <tr style="font-size:0px; padding: 0px;">
            <td style=" padding: 0px;">
                    <img src="<%= folderPath %>agent_list_line.png" height=1px
                    width=100%>
                        </td >
            </tr> 
            <tr valign="center">
            <% if(!data.subject) { %>
                <td style="text-align: left; padding-top:10px; padding-left:8px"><span class="agent_list_01"
                    style="color: #aaaaaa"><%= data.guide_title %>: </span></td>
            <%} else {%>
                <td style="text-align: left; padding-top:10px; padding-left:8px"><span
                    class="agent_list_01"><%= data.subject %></span></td>    
            <%}%>
            </tr>
                <tr valign="center" onLoad='calcHeight();' id="main" name="main">
                <% if(data.body == null) { %>
                <td>
                   <div class="agent_list_01" style="margin-left:8px; margin-right:8px; margin-bottom:8px;margin-top:5px; border:1px solid; color:#aaaaaa; padding-left:12px; padding-right:12px; padding-top:9px; padding-bottom:9px"><%=data.guide_msg %></div>
                </td> <%} else {%>
                <td>
                     <div class="agent_list_01" style="margin-left:8px; margin-right:8px; margin-bottom:8px;margin-top:5px; border:1px solid; padding-left:12px; padding-right:12px; padding-top:9px; padding-bottom:9px"><%= data.body %></div>
                </td> 
                
                <%}%>
            </tr>
        </table>
        <div class="button" style="background-image: url('<%= folderPath %>qvoice_command_bg.png');
                background-size:100% 100%; height:48px;
        <% if(data.confirm && data.cancel) { %>
            <%} else {%>
                display : none;
            <%}%>">
            <div class="email_btn" style="width:50%; height:100%; valign:middle; float:left; text-align:center;"
                    onclick="buttonCancel(event);">
                <span class="agent_list_01" style="position:relative; top: 30%;"><%= data.cancel %></span>
            </div>
            <div class="email_btn" style="width:50%; height:100%; valign:middle; float:right; text-align:center;"
                    onclick="buttonSave(event);">
                <span class="agent_list_01" style="position:relative; top: 30%;"><%= data.confirm %></span>
            </div>
        </div>
    </div>
</li>
